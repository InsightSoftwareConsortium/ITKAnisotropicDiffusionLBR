<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Anisotropic Diffusion LBR</title>

  <style>
    .emscripten { padding-right: 0; margin-left: auto; margin-right: auto; display: block; }
    textarea.emscripten { font-family: monospace; width: 80%; }
  </style>

  <link href="css/pace.css" rel="stylesheet">
  <script type="text/javascript" src="js/pace.min.js"></script>

  <script type="text/javascript" src="js/jquery.min.js"></script>

  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap-theme.min.css" rel="stylesheet">
  <script type="text/javascript" src="js/bootstrap.min.js" async></script>
  <link href="css/bootstrap-slider.min.css" rel="stylesheet">
  <script type="text/javascript" src="js/bootstrap-slider.min.js" async></script>


  <script type="text/javascript" src="js/EmscriptenDebug.js"></script>
  <script type="text/javascript" src="CoherenceEnhancingDiffusion.js" async></script>
  <script type="text/javascript" src="js/FileSaver.min.js" async></script>
  <script type="text/javascript" src="js/Runner.js" async></script>
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" async></script>
</head>

<body>
  <div class="container">

    <div class="header clearfix">
      <nav>
        <ul class="nav nav-pills pull-right">
          <li role="presentation" class="active"><a href="#">Home</a></li>
          <li role="presentation"><a href="http://hdl.handle.net/10380/3505">Article</a></li>
          <li role="presentation"><a href="https://github.com/InsightSoftwareConsortium/ITKAnisotropicDiffusionLBR/tree/gh-pages">Sources</a></li>
          <li role="presentation"><a href="http://kitware.com/blog/home/post/942">Blog Post</a></li>
        </ul>
      </nav>
      <h3 class="text-muted">Anisotropic Diffusion in ITK</h3>
    </div>
    <div class="jumbotron">
      <h2>Interactive Figures</h2>
      <p class="lead">These are interactive figures that reproduce results
      from an <a href="http://hdl.handle.net/10380/3505">open science article</a>
      on an imaging denoising technique, anisotropic non-linear diffusion.
      </p>
      <p><a href="#output-image">Results</a> on this page are dynamically generated by your web
      browser, utilizing the same code and data presented in the article.
      <a href="#figure-presets">Figure reproduction presets</a> can be selected, which load the input image
      and set analysis parameters to the values used for a given
      article figure. It is also possible to <a href="#parameters">modify parameters</a> and see their
      effects. Or, run the algorithm on <a href="#load-image">your own PNG image</a>.
      </p>
    </div>


    <!-- Image display -->
    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">Input Image</div>
          <div class="panel-body">
            <img src="images/PacMan.png" class="img-responsive center-block" alt="Input image"
                 id="input-image" style="visibility:hidden;">
                 <a name="load-image"><input type="file" id="file-input" name="files[]" disabled
                   onchange="Runner.filter.setInputFile(this.files[0])"
                   accept="image/png"/>&nbsp;</a>
          </div>
          <div class="panel-footer" id="input-filename">PacMan.png</div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="panel panel-success">
          <div class="panel-heading"><a name="output-image">Output Image</a></div>
          <div class="panel-body">
            <img src="images/PacMan.png" class="img-responsive center-block"
                 alt="Output image" id="output-image" style="visibility:hidden;">
          <form id="download" action="">
            <input type="submit" value="Download">
          </form>
          </div>
          <div class="panel-footer" id="output-filename">Output.png</div>
        </div></a>
      </div>
    </div>


    <!-- Analysis controls -->
    <div class="row">
      <!-- Article figure presets -->
      <div class="col-md-6"><div class="panel panel-default"><div class="panel-heading"><a name="figure-presets">Figure Presets</a></div><div class="panel-body">
        <form>
        <div class="row">
          <div class="col-sm-4">
            <img src="images/PacMan_cEED.png" alt="PacMan cEED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(2,2);" checked/>Figure 2.II</label>
            </div>
          </div>
          <div class="col-sm-4">
            <img src="images/PacMan_cCED.png" alt="PacMan cCED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(2,3);" />Figure 2.III</label>
            </div>
          </div>
          <div class="col-sm-4">
            <img src="images/PacMan_I.png" alt="PacMan Isotropic" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(2,4);" />Figure 2.IV</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-4">
            <img src="images/FingerPrint_cEED.png" alt="FingerPrint cEED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(3,2);"/>Figure 3.II</label>
            </div>
          </div>
          <div class="col-sm-4">
            <img src="images/FingerPrint_cCED.png" alt="FingerPrint cCED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(3,3);"/>Figure 3.III</label>
            </div>
          </div>
          <div class="col-sm-4">
            <img src="images/FingerPrint_I.png" alt="FingerPrint I" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(3,4);"/>Figure 3.IV</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-4">
            <img src="images/Lena_Detail_cEED.png" alt="Lena_Detail cEED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(6,2);"/>Figure 6.II</label>
            </div>
          </div>
          <div class="col-sm-4">
            <img src="images/Lena_Detail_cCED.png" alt="Lena_Detail cCED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(6,3);"/>Figure 6.III</label>
            </div>
          </div>
          <div class="col-sm-4">
            <img src="images/Lena_Detail_I.png" alt="Lena_Detail I" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(6,4);"/>Figure 6.IV</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-3">
            <img src="images/Oscillations_cCED.png" alt="Oscillations cEED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(8,2);"/>Figure 8.II</label>
            </div>
          </div>
          <div class="col-sm-3">
            <img src="images/Oscillations_CED.png" alt="Oscillations EED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(8,3);"/>Figure 8.III</label>
            </div>
          </div>
          <div class="col-sm-3">
            <img src="images/Triangle_cEED.png" alt="Triangle cEED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(8,5);"/>Figure 8.V</label>
            </div>
          </div>
          <div class="col-sm-3">
            <img src="images/Triangle_EED.png" alt="Triangle EED" class="img-responsive">
            <div class="radio">
                <label><input type="radio" name="figure" onClick="Runner.filter.setFigure(8,6);"/>Figure 8.VI</label>
            </div>
          </div>
        </div>

        </form>
      </div></div></div>

      <div class="col-md-6">
        <!-- Controls for execution parameters -->
        <div class="panel panel-info"> <div class="panel-heading"><a name="parameters">Parameters</a></div><div class="panel-body">
        <!-- Diffusion time -->
        <div class="well">
          <table class="table">
            <tr>
              <td>Diffusion Time, \( T\)&nbsp;</td>
              <td><b>0.5</b> &nbsp; &nbsp;
                 <input id="diffusion-time-slider" type="text"
                 data-slider-min="0.5" data-slider-max="50"
                 data-slider-step="0.5" data-slider-value="20" />
                 &nbsp; &nbsp; <b>50</b>
             </td>
            </tr>
            <tr>
              <td>Lambda, \( \lambda\)&nbsp;</td>
              <td><b>0.5</b> &nbsp; &nbsp;
                 <input id="lambda-slider" type="text"
                 data-slider-min="0.0001" data-slider-max="0.5"
                 data-slider-step="0.0001" data-slider-value="0.05"
                 style="width: 60%;" />
                 &nbsp; &nbsp; <b>0.0001</b>
              </td>
            </tr>
            <tr>
              <td>Weickert Diffusion Type</td>
              <td><select name="diffusion-type" id="diffusion-type" class="form-control">
                  <option value="EED">Edge Enhancing Diffusion (EED)</option>
                  <option selected value="cEED">Conservative Edge Enhancing Diffusion (cEED)</option>
                  <option value="CED">Coherence Enhancing Diffusion (CED)</option>
                  <option value="cCED">Conservative Coherence Enhancing Diffusion (cCED)</option>
                  <option value="Isotropic">Isotropic</option>
              </select></td>
            </tr>
            <tr>
              <td>Noise Scale, \( \sigma\)&nbsp;</td>
              <td><b>0.5</b> &nbsp; &nbsp;
                 <input id="noise-scale-slider" type="text"
                 data-slider-min="0.5" data-slider-max="5"
                 data-slider-step="0.5" data-slider-value="3.0" />
                 &nbsp; &nbsp; <b>5</b>
             </td>
            </tr>
            <tr>
              <td>Feature Scale, \( \rho\)&nbsp;</td>
              <td><b>2.0</b> &nbsp; &nbsp;
                 <input id="feature-scale-slider" type="text"
                 data-slider-min="2.0" data-slider-max="6"
                 data-slider-step="0.5" data-slider-value="2.0" />
                 &nbsp; &nbsp; <b>6</b>
             </td>
            </tr>
            <tr>
              <td>Exponent, \( m\)&nbsp;</td>
              <td><b>1.0</b> &nbsp; &nbsp;
                 <input id="exponent-slider" type="text"
                 data-slider-min="1.0" data-slider-max="6.0"
                 data-slider-step="0.5" data-slider-value="2.0" />
                 &nbsp; &nbsp; <b>6</b>
             </td>
            </tr>
          </table>
        </div>
      </div>
      </div>

        <!-- Execution progress bar -->
        <div class="panel panel-info">
          <div class="panel-heading">Execution</div>
          <div class="panel-body">
            <div class="progress">
              <div class="progress-bar" role="progressbar"
                   aria-valuenow="0" arias-valuemin="0" aria-valuemax="100"
                   style="width: 0%;" id="execution-progress">
              </div>
            </div>
            <button id="execute-button" class="btn btn-primary btn-lg"
              style="float: right;" data-toggle="tooltip" data-placement="bottom"
            title="Click or press Enter">Execute</button>
          </div>
        </div>
      </div>

    </div>

    <footer class="footer">
      <div class="row">
        <div class="col-sm-3">
          <a href="http://emscripten.org/"><img src="images/EmscriptenLogo.png" alt="Emscripten Logo" class="center-block"></a>
        </div>
        <!--<div class="col-sm-3">-->
          <!--<a href="http://insight-journal.org/"><img src="images/IJLogo.png" alt="Insight Journal Logo" class="center-block"></a>-->
        <!--</div>-->
        <div class="col-sm-3">
          <a href="http://cmake.org/"><img src="images/CMakeLogo.png" alt="CMake Logo" class="center-block"></a>
        </div>
        <div class="col-sm-3">
          <a href="http://itk.org/"><img src="images/ITKLogo.png" alt="ITK Logo" class="center-block"></a>
        </div>
        <div class="col-sm-3">
          <a href="http://kitware.com/"><img src="images/KitwareLogo.png" alt="Kitware Logo" class="center-block"></a>
        </div>
      </div>
    </footer>
    <!--<hr/>-->
    <!--<textarea class="emscripten" id="output" rows="16"></textarea>-->
    <!--<hr/>-->
  </div> <!-- /container -->

</body>
</html>
